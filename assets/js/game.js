"use strict";angular.module("app").controller("gameController",function($scope,$state,$stateParams,$timeout,$interval,server){info("Game loaded"),$scope.back=function(){return $state.go("menu")},$scope.getWhot=$stateParams.whot;var time=10,timer=document.getElementById("timer"),zAxis=document.getElementById("accelerationZ");timer.innerHTML="Preparate",server.db.collection("whots").doc($scope.getWhot).get().then(function(doc){$scope.$apply(function(){$scope.whot=doc.data(),succ("Data obtained"),$timeout(function(){return $scope.message="Preparados..."}),$timeout(function(){return $scope.message="Listos..."},1e3),$timeout(function(){return $scope.message="¡Ya!"},2e3);$timeout(function(){var random=Math.floor(Math.random()*$scope.whot.whots.length);$scope.message=$scope.whot.whots[random],timer.innerHTML=time,$interval(function(){0<time?(time-=1,timer.innerHTML=time):($timeout(function(){return timer.innerHTML="¡Tiempo!"},100),$timeout(function(){return $scope.message=rigthWhots}))},1e3)},3e3);var rightState=!1,wrongState=!1,_rightFn=function(){if(!(wrongState=!(rightState=!0))===rightState){var random=Math.floor(Math.random()*$scope.whot.whots.length);$scope.message="¡Correcto!",$timeout(function(){return $scope.message=$scope.whot.whots[random]},1e3),rigthWhots.push($scope.whot.whots[random])}var saveFn=_rightFn;$timeout(function(){_rightFn=saveFn},1500),_rightFn=null},_wrongFn=function(){if((wrongState=!(rightState=!1))===wrongState){var random=Math.floor(Math.random()*$scope.whot.whots.length);$scope.message="Paso...",$timeout(function(){return $scope.message=$scope.whot.whots[random]},1e3),wrongWhots.push($scope.whot.whots[random])}var saveFn=_wrongFn;$timeout(function(){_wrongFn=saveFn},1500),worngFn=null},rigthWhots=[],wrongWhots=[];window.ondevicemotion=function(e){zAxis.innerHTML=e.accelerationIncludingGravity.z;var zDeg=e.accelerationIncludingGravity.z;4<=zDeg?_rightFn():zDeg<=-5&&_wrongFn()}})})});
//# sourceMappingURL=game.js.map