"use strict";angular.module("app").controller("formController",function($scope,$timeout,$state,$stateParams,server){(info("Form loaded"),$scope.back=function(){return $state.go("menu")},$scope.getWhot=$stateParams.whot,$scope.whot={},$scope.whot.whots=[],$scope.addWhot=function(newWhot){$scope.whot.whots.push(newWhot),$scope.newWhot=null,$timeout(function(){return _(".right").scrollBy(0,100)})},$scope.delWhot=function(key){$scope.whot.whots.splice(key,1)},null!==$stateParams.whot)?(server.db.collection("whots").doc($scope.getWhot).get().then(function(doc){$scope.$apply(function(){$scope.whot=doc.data(),succ("Data obtained")})}),$scope.pushWhot=function(whot){server.db.collection("whots").doc($stateParams.whot).set(whot).then(function(){succ("Whot updated"),$state.go("menu")})}):$scope.pushWhot=function(whot){var now=new Date;whot._created=now,server.db.collection("whots").add(whot).then(function(){succ("Whot created successfully"),$state.go("menu")})}});
//# sourceMappingURL=form.js.map